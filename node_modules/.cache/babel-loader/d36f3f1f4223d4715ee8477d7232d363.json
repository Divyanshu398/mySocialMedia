{"ast":null,"code":"import _slicedToArray from\"/home/divyanshu/nodejs/instagram/server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext}from'react';import{Link,useHistory}from'react-router-dom';import M from'materialize-css';var Reset=function Reset(){var history=useHistory();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var PostData=function PostData(){if(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)){M.toast({html:\"invalid email\",classes:\"#c62828 red darken-3\"});return;}fetch('/reset-password',{method:\"post\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:email})}).then(function(res){return res.json();}).then(function(data){if(data.error){M.toast({html:data.error,classes:\"#c62828 red darken-3\"});}else{M.toast({html:data.message,classes:\"#43a047 green darken-1\"});history.push('/signin');}}).catch(function(err){console.log(err);});};return/*#__PURE__*/React.createElement(\"div\",{className:\"mycard\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card auth-card input-field\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Instagram\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/React.createElement(\"button\",{className:\"btn waves-effect waves-light #64b5f6 blue darken-1\",onClick:function onClick(){return PostData();}},\"reset password\")));};export default Reset;","map":{"version":3,"sources":["/home/divyanshu/nodejs/instagram/server/client/src/components/screens/Reset.js"],"names":["React","useState","useContext","Link","useHistory","M","Reset","history","email","setEmail","PostData","test","toast","html","classes","fetch","method","headers","body","JSON","stringify","then","res","json","data","error","message","push","catch","err","console","log","e","target","value"],"mappings":"qKAAA,MAAOA,CAAAA,KAAP,EAAcC,QAAd,CAAuBC,UAAvB,KAAyC,OAAzC,CACA,OAAQC,IAAR,CAAaC,UAAb,KAA8B,kBAA9B,CACA,MAAOC,CAAAA,CAAP,KAAc,iBAAd,CACA,GAAMC,CAAAA,KAAK,CAAI,QAATA,CAAAA,KAAS,EAAI,CACf,GAAMC,CAAAA,OAAO,CAAGH,UAAU,EAA1B,CADe,cAEUH,QAAQ,CAAC,EAAD,CAFlB,wCAERO,KAFQ,eAEFC,QAFE,eAGf,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAI,CACjB,GAAG,CAAC,yJAAyJC,IAAzJ,CAA8JH,KAA9J,CAAJ,CAAyK,CACrKH,CAAC,CAACO,KAAF,CAAQ,CAACC,IAAI,CAAE,eAAP,CAAuBC,OAAO,CAAC,sBAA/B,CAAR,EACA,OACH,CACDC,KAAK,CAAC,iBAAD,CAAmB,CACpBC,MAAM,CAAC,MADa,CAEpBC,OAAO,CAAC,CACJ,eAAe,kBADX,CAFY,CAKpBC,IAAI,CAACC,IAAI,CAACC,SAAL,CAAe,CAChBZ,KAAK,CAALA,KADgB,CAAf,CALe,CAAnB,CAAL,CAQGa,IARH,CAQQ,SAAAC,GAAG,QAAEA,CAAAA,GAAG,CAACC,IAAJ,EAAF,EARX,EASCF,IATD,CASM,SAAAG,IAAI,CAAE,CACT,GAAGA,IAAI,CAACC,KAAR,CAAc,CACXpB,CAAC,CAACO,KAAF,CAAQ,CAACC,IAAI,CAAEW,IAAI,CAACC,KAAZ,CAAkBX,OAAO,CAAC,sBAA1B,CAAR,EACF,CAFD,IAGI,CACAT,CAAC,CAACO,KAAF,CAAQ,CAACC,IAAI,CAACW,IAAI,CAACE,OAAX,CAAmBZ,OAAO,CAAC,wBAA3B,CAAR,EACAP,OAAO,CAACoB,IAAR,CAAa,SAAb,EACH,CACH,CAjBD,EAiBGC,KAjBH,CAiBS,SAAAC,GAAG,CAAE,CACVC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACH,CAnBD,EAoBH,CAzBD,CA0BD,mBACG,2BAAK,SAAS,CAAC,QAAf,eACI,2BAAK,SAAS,CAAC,4BAAf,eACE,0CADF,cAEE,6BACA,IAAI,CAAC,MADL,CAEA,WAAW,CAAC,OAFZ,CAGA,KAAK,CAAErB,KAHP,CAIA,QAAQ,CAAE,kBAACwB,CAAD,QAAKvB,CAAAA,QAAQ,CAACuB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb,EAJV,EAFF,cAQE,8BAAQ,SAAS,CAAC,oDAAlB,CACA,OAAO,CAAE,yBAAIxB,CAAAA,QAAQ,EAAZ,EADT,mBARF,CADJ,CADH,CAoBF,CAjDD,CAoDA,cAAeJ,CAAAA,KAAf","sourcesContent":["import React,{useState,useContext,} from 'react'\nimport {Link,useHistory} from 'react-router-dom'\nimport M from 'materialize-css'\nconst Reset  = ()=>{\n    const history = useHistory()\n    const [email,setEmail] = useState(\"\")\n    const PostData = ()=>{\n        if(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)){\n            M.toast({html: \"invalid email\",classes:\"#c62828 red darken-3\"})\n            return\n        }\n        fetch('/reset-password',{\n            method:\"post\",\n            headers:{\n                \"Content-Type\":\"application/json\"\n            },\n            body:JSON.stringify({\n                email\n            })\n        }).then(res=>res.json())\n        .then(data=>{\n           if(data.error){\n              M.toast({html: data.error,classes:\"#c62828 red darken-3\"})\n           }\n           else{\n               M.toast({html:data.message,classes:\"#43a047 green darken-1\"})\n               history.push('/signin')\n           }\n        }).catch(err=>{\n            console.log(err)\n        })\n    }\n   return (\n      <div className=\"mycard\">\n          <div className=\"card auth-card input-field\">\n            <h2>Instagram</h2>\n            <input\n            type=\"text\"\n            placeholder=\"email\"\n            value={email}\n            onChange={(e)=>setEmail(e.target.value)}\n            />\n            <button className=\"btn waves-effect waves-light #64b5f6 blue darken-1\"\n            onClick={()=>PostData()}\n            >\n               reset password\n            </button>\n            \n    \n        </div>\n      </div>\n   )\n}\n\n\nexport default Reset"]},"metadata":{},"sourceType":"module"}